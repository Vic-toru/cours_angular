<div class="container">
  <div class="card tasks" style="width: 80vw">
    <div class="card-header">
      <h2>Suivi des t√¢ches</h2>
    </div>
    <div>
      <input
        type="text"
        [(ngModel)]="newTaskTitle"
        placeholder="Nouvelle t√¢che"
        class="form-control me-2"
      />
      <select class="form-select" [(ngModel)]="newTaskPriority">
        <option value="haute">Haute</option>
        <option value="moyenne">Moyenne</option>
        <option value="basse">Basse</option>
      </select>
      <button (click)="addTask()" class="btn btn-primary">Ajouter</button>
    </div>
    <div class="container-fluid">
      <ul class="list-group">
        <li
          *ngFor="let task of sortedTasks()"
          class="list-group-item d-flex align-items-center"
        >
          <span
            [ngStyle]="{ 'font-weight': task.complete ? 'normal' : 'bold' }"
          >
            {{ task.title }} (Priorit√© : {{ task.priority }})
          </span>
          <span
            *ngIf="task.complete === true"
            class="bg-success text-light rounded"
            >T√¢che compl√©t√©e
            <img src="../assets/dab.png" alt="emoji_dab" class="dab"
          /></span>
          <button
            (click)="toggleComplete(task)"
            class="btn btn-primary completed"
          >
            Marquer comme compl√©t√©e
          </button>
          <button (click)="delTask(task)" class="btn btn-danger">
            Supprimer üóëÔ∏è
          </button>
        </li>
      </ul>
    </div>
  </div>
  <br /><br /><br />
  <div class="card stats" style="width: 80vw">
    <div class="card-header">
      <h2>Statistiques des t√¢ches</h2>
    </div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">
        T√¢ches compl√©t√©es : {{ completedCount() }}
      </li>
      <li class="list-group-item">T√¢ches restantes : {{ remainingCount() }}</li>
    </ul>
  </div>
  <div *ngIf="allTasksCompleted()" class="card congrats" style="width: 80vw">
    <h1>F√©licitation, vous avez compl√©t√© toutes les t√¢ches</h1>
    <img src="../assets/drop-mic.gif" alt="Drop the mic" class="drop-mic" />
  </div>
</div>
